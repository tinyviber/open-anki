# Open Anki 开发 TODO

该清单用于跟踪当前 MVP 中尚未完成或需要优化的事项，方便后续迭代。优先级分为：
- 🟥 高优先级：影响核心功能或阻塞主要流程
- 🟧 中优先级：提升体验或稳定性
- 🟩 低优先级：增强功能或锦上添花

## 后端
- 🟥 实现 `/api/v1/sync/push` 的完整业务逻辑，包括冲突检测、操作幂等和错误处理。
- 🟥 编写同步路由的集成测试，覆盖 push/pull 正常流程、分页、继续令牌失效等场景。
- 🟧 增加健康检查外的系统监控指标，例如 Prometheus 端点和结构化日志字段。
- 🟧 支持多环境配置加载（本地/预发布/生产），引入 `dotenv` 并提供示例配置文件。
- 🟩 为同步操作添加速率限制与设备指纹记录，防止误操作导致的过度同步。

## 前端
- ✅ 完成“卡片组详情”页面，支持查看卡片列表、学习进度以及快速进入复习。（已完成）
- 🟥 接入真实的同步 API，将 Dexie 本地数据库与后端同步服务打通，并处理冲突提示。
- 🟧 为复习流程提供快捷键操作、音频/图片字段渲染和模版编辑能力。
- 🟧 在设置页提供数据导入/导出选项（Anki 集合、CSV 等）。
- 🟩 实现统计页的图表可视化（折线图、饼图）并支持自定义时间范围过滤。

## 基础设施
- 🟥 配置端到端测试（例如 Playwright），覆盖登录、同步、复习流程。
- 🟧 在 CI 中加入前端构建与 Lint 检查，确保多包协同开发质量。
- 🟧 引入自动化发布流程（tag + Release Notes），方便 nightly build。
- 🟩 使用 Turborepo 或 Nx 统一管理 monorepo 脚本和缓存。

> 提示：完成某一项后，请及时在该文档更新状态，并将相关测试脚本或运行方式写入项目文档。
